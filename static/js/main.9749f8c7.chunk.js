(this["webpackJsonpreact-tic-tac-toe"]=this["webpackJsonpreact-tic-tac-toe"]||[]).push([[0],{11:function(e,r,t){},12:function(e,r,t){},14:function(e,r,t){"use strict";t.r(r);var c=t(2),s=t.n(c),a=t(6),n=t.n(a),i=(t(11),t.p,t(12),t(3)),o=t(1),d=t(4);var u=t(0),l=function(e){var r=e.score;return Object(u.jsxs)("div",{className:"shadow scoreboard",children:[Object(u.jsx)("h1",{className:"scoreboard__title",children:"\u0421\u0447\u0451\u0442"}),Object(u.jsxs)("div",{className:"user-panel",children:[Object(u.jsx)("div",{className:"shadow user-info bg-primary bg-gradient",children:Object(u.jsx)("span",{className:"x-user-score",children:r.cross})}),Object(u.jsx)("div",{className:"shadow user-info bg-danger bg-gradient",children:Object(u.jsx)("span",{className:"o-user-score",children:r.circle})})]})]})},b=function(e){var r=e.fieldId,t=e.isUserClicked,c=e.isUserWithPhone,s=e.field,a=e.onFieldClick,n=e.handleMouseEnter,i=e.handleMouseLeave,o=e.user;return Object(u.jsx)("div",{id:r,className:"shadow tic-tac-toe__field bg-gradient ".concat(t," ").concat(c),"data-column":s.pos[0],"data-row":s.pos[1],"data-user":s.user,onClick:a,onMouseEnter:function(e){return n(e)},onMouseLeave:function(e){return i(e)},children:Object(u.jsx)("span",{id:r,className:"shape ".concat(s.user," ").concat(!s.user&&s.isHover?o:""),"data-user":s.user})})},j=function(e){var r=e.win,t=e.handleModalClose;return Object(u.jsx)("div",{className:"message".concat(r?" open":""),id:"win",children:Object(u.jsxs)("div",{className:"shadow message__body",children:[Object(u.jsx)("h1",{className:"message__title text-".concat("cross"===r?"primary":"circle"===r?"danger":"default"),children:"cross"===r?"\u041f\u043e\u0431\u0435\u0434\u0438\u043b\u0438 \u043a\u0440\u0435\u0441\u0442\u0438\u043a\u0438!!!":"circle"===r?"\u041f\u043e\u0431\u0435\u0434\u0438\u043b\u0438 \u043d\u043e\u043b\u0438\u043a\u0438":"\u041d\u0438\u0447\u044c\u044f."}),Object(u.jsx)("button",{onClick:t,className:"message__button btn btn-".concat("cross"===r?"primary":"circle"===r?"danger":"dark"),children:"Start new game!"})]})})},f=function(){var e=/Mobile|webOS|BlackBerry|IEMobile|MeeGo|mini|Fennec|Windows Phone|Android|iP(ad|od|hone)/i.test(navigator.userAgent),r=function(){for(var e={},r=0,t=0;t<3;t++)for(var c=0;c<3;c++)e[r]={isClicked:!1,pos:[c,t],user:"",isHover:!1},r++;return e}(),t=Object(c.useState)("cross"),s=Object(d.a)(t,2),a=s[0],n=s[1],f=Object(c.useState)(""),O=Object(d.a)(f,2),h=O[0],v=O[1],g=Object(c.useState)(Object(o.a)({},r)),m=Object(d.a)(g,2),p=m[0],x=m[1],w=Object(c.useState)({cross:0,circle:0}),k=Object(d.a)(w,2),C=k[0],N=k[1];Object(c.useEffect)((function(){var e=function(e){for(var r=[],t=0,c=0;c<3;c++){for(var s=[],a=0;a<3;a++)s.push(e[t].user),t++;r.push(s)}for(var n=0;n<r.length;n++)if(!r[n].includes("")){var i=new Set(r[n]);if(1===i.size)return Array.from(i)[0]}for(var o=0;o<r.length;o++){var d=[r[0][o],r[1][o],r[2][o]];if(!d.includes("")){var u=new Set(d);if(1===u.size)return Array.from(u)[0]}}for(var l=[],b=[],j=0;j<r.length;j++)for(var f=0;f<r[j].length;f++)j===f&&l.push(r[j][f]),j+f===r[j].length-1&&b.push(r[j][f]);if(!l.includes("")){var O=new Set(l);if(1===O.size)return Array.from(O)[0]}if(!b.includes("")){var h=new Set(b);if(1===h.size)return Array.from(h)[0]}for(var v=0,g=0;g<r.length;g++)r[g].includes("")||v++;return 3===v&&"draw"}(p);v(e),e&&"draw"!==e&&N(Object(o.a)(Object(o.a)({},C),{},Object(i.a)({},e,++C[e])))}),[p]);var y=function(e){var r=e.target.id;p[r].isClicked||(x((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(i.a)({},r,Object(o.a)(Object(o.a)({},e[r]),{},{isClicked:!0,user:a})))})),n((function(e){return"cross"===e?"circle":"cross"})))},M=function(e){var r=e.target.id;p[r].isClicked||x((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(i.a)({},r,Object(o.a)(Object(o.a)({},e[r]),{},{isHover:!0})))}))},S=function(e){var r=e.target.id;p[r].isClicked||x((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(i.a)({},r,Object(o.a)(Object(o.a)({},e[r]),{},{isHover:!1})))}))};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(l,{score:C}),Object(u.jsxs)("div",{className:"shadow tic-tac-toe",children:[Object.keys(p).map((function(r){var t=p[r].user?"cross"===p[r].user?"bg-primary":"bg-danger":"",c=e?p[r].isClicked?"":"cross"===a?"bg-primary":"bg-danger":"";return Object(u.jsx)(b,{fieldId:r,isUserClicked:t,isUserWithPhone:c,field:p[r],onFieldClick:y,handleMouseEnter:M,handleMouseLeave:S,user:a},r)})),Object(u.jsx)(j,{win:h,handleModalClose:function(){x(Object(o.a)({},r)),v("")}})]})]})};var O=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(f,{})})},h=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,15)).then((function(r){var t=r.getCLS,c=r.getFID,s=r.getFCP,a=r.getLCP,n=r.getTTFB;t(e),c(e),s(e),a(e),n(e)}))};n.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(O,{})}),document.getElementById("root")),h()}},[[14,1,2]]]);
//# sourceMappingURL=main.9749f8c7.chunk.js.map